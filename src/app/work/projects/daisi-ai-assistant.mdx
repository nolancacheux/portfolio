---
title: "DAISI - AI Assistant for Supplier Processes"
publishedAt: "2025-12-01"
summary: "Enterprise GenAI chatbot for Decathlon Finance, built with LangGraph, Google Gemini, and RAG architecture on GCP infrastructure."
images:
  - "/images/projects/daisi/daisi-image-1.png"
  - "/images/projects/daisi/daisi-image-2.png"
  - "/images/projects/daisi/daisi-image-3.png"
team:
  - name: "Nolan Cacheux"
    role: "Data Scientist - AI/ML"
    avatar: "/images/avatar.jpg"
    linkedIn: "https://www.linkedin.com/in/nolancacheux/"
links:
  - name: "GitHub"
    url: "https://github.com/nolancacheux"
    icon: "github"
---

## Overview

DAISI (Decathlon AI Supplier Intelligence) is an enterprise-grade GenAI chatbot deployed on Google Chat, enabling Decathlon Finance collaborators to ask questions about supplier processes. Built with a modern LangGraph agent architecture, the system leverages RAG (Retrieval-Augmented Generation) with Vertex AI Vector Search for accurate, grounded responses.

## Technical Architecture

### AI/ML Stack

- **LangGraph** - Agent orchestration framework with stateful conversation flows
- **LangChain** - LLM application framework for chains and prompts
- **Google Gemini** via Vertex AI - Foundation model for text generation
- **Vertex AI Vector Search** - High-performance semantic search for RAG
- **FAISS** - Local vector similarity search
- **Model Armor** - GCP security templates for anti-prompt injection and content filtering

### Backend Infrastructure

- **FastAPI** - High-performance async API framework
- **Cloud Run** - Serverless container deployment with autoscaling
- **Cloud SQL PostgreSQL** - Managed database for conversation persistence
- **Google Cloud Storage** - Object storage for knowledge base and configurations
- **Uvicorn** - ASGI server for FastAPI

### Observability & MLOps

- **MLflow 3.7+** - Experiment tracking with LangGraph autologging
- **LiteLLM** - Unified LLM API gateway
- **OpenTelemetry** - Distributed tracing with OTLP/gRPC export
- **Cloud Logging** - Centralized log aggregation

### Scheduled Jobs (Cloud Run Jobs)

The application includes automated maintenance jobs orchestrated by Cloud Scheduler:

| Job | Schedule | Purpose |
|-----|----------|---------|
| **TTL Cleanup** | Daily 03:00 | GDPR compliance - deletes checkpoints and MLflow traces older than 12 months |
| **Trace Evaluation** | Daily 04:00 | LLM-as-Judge quality scoring with custom scorers (relevance, language consistency, conciseness) |
| **Data Sync** | On config update | Syncs knowledge base from Google Sheets to GCS via Eventarc triggers |

### Infrastructure as Code

- **Terraform** - Complete GCP infrastructure management with modular design:
  - `cloud-run` - Main service deployment
  - `cloud-run-job` - Batch job definitions
  - `cloud-scheduler` - Scheduled triggers
  - `iam` - Service accounts and role bindings
  - `model-armor` - Security template configuration
  - `vertex-ai-vector-search` - Vector index management
  - `storage` - GCS bucket configuration
  - `eventarc` - Event-driven triggers

### DevOps & CI/CD

- **Docker** - Containerized deployments
- **GitHub Actions** - Automated CI/CD pipelines
- **SonarCloud** - Code quality and security analysis
- **Pre-commit hooks** - Automated code checks
- **Ruff** - Python linting and formatting
- **Mypy** - Static type checking
- **Pytest** - Async test framework with coverage

### Project Management

- **Jira** - Sprint planning and issue tracking
- **Confluence** - Technical documentation with auto-sync from /docs

## Core Features

### Intelligent Question Answering
RAG-powered responses grounded in operational and accounting practical guides ("fiches pratiques").

### Contextual Disambiguation
Multi-turn conversations with follow-up questions to clarify ambiguous requests.

### Conversation Memory
PostgreSQL-backed checkpointer for persistent conversation state with IAM authentication.

### System Integrations
- **IAM** - User context (Cost Center, job title, department)
- **ORGA DAF** - Accountant assignment lookup
- **Eone** - Invoice status queries
- **Nomenclature** - Indirect purchasing information

### Security & Compliance
- Model Armor templates for prompt injection protection
- Prohibited topics detection (salary, HR issues)
- GDPR-compliant data retention with automated TTL cleanup
- Access restricted to @decathlon.com domain

## Technologies Summary

| Category | Technologies |
|----------|-------------|
| **AI/ML** | LangGraph, LangChain, Google Gemini, Vertex AI Vector Search, FAISS, Model Armor |
| **Backend** | Python 3.11, FastAPI, Uvicorn, Pydantic |
| **Database** | Cloud SQL PostgreSQL, langgraph-checkpoint-postgres, psycopg3 |
| **Cloud** | GCP, Cloud Run, Cloud Run Jobs, Cloud Scheduler, Eventarc, GCS |
| **Observability** | MLflow, LiteLLM, OpenTelemetry |
| **Infrastructure** | Terraform, Docker |
| **CI/CD** | GitHub Actions, SonarCloud, Pre-commit |
| **Quality** | Ruff, Mypy, Pytest, pytest-asyncio |
